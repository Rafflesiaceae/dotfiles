#!/bin/bash
set -euo pipefail

echo $*

src=$1
shift
from=$1
shift
to=$1
shift

args=(
	-i "$src"

	-c:v copy
	-c:a copy

    # re-encode - this needs to happen if we want frame-precision
    -c:v libx264 
    -preset ultrafast
    -crf 0

    -pix_fmt yuv420p   # don't use funky color-spaces

	-ss "$from"
	-to "$to"

	-y "cut_$(date +%s).mp4"
)

(set -x;
ffmpeg \
	$* \
    "${args[@]}"
)

#	-map 0             `#use all subtitles/audio/videos` \
#	-sn               `#strip subtitles` \
