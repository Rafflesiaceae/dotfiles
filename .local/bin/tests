#!/bin/dash
test_path=$(find-upwards "test.sh" || find-upwards "tests.sh" || true)
if [ -e "$test_path" ]; then
    printf "+ %s %s\n" "$test_path" "$*"
    "$test_path" "$@"
elif find-upwards "Taskfile.yml" >/dev/null; then
    printf "+ go-task test %s\n" "$*"
    go-task test "$@"
else
    if [ "$IF_HAS_TESTS" = 1 ]; then
        :
    else
        printf "No way to test found.\n" >&2
        exit 1
    fi
fi
