#!/usr/bin/env bash
set -eo pipefail

git-wip "$@"

case "$1" in
--np | -np) ;;
*)
    # optionally push depending on if a git remote is set or not
    if git rev-parse --is-inside-work-tree &>/dev/null; then
        echo ""
        if git remote | grep -q .; then
            set -x
            git push -q
        else
            echo "No remotes configured. Omitting Push."
        fi
    fi
    ;;
esac
